learning vehicular dynamics with application to modeling helicopters page 1 model based vehicle tracking for autonomous driving in urban environments anna petrovskaya and sebastian thrun s t a n f o r d tracking results anya cs stanford edu thrun cs stanford edu cs stanford edu anya uc html working with 3d data time step t time step t 1 observer observer c 0 0 xt 1 xt c cx 0 x x y y cx shape vs position detecting black cars contributions our model based approach estimates both geometric and dynamic properties of a tracked vehicle in a single bayes filter separate pre processing steps for data association and segmentation are not required our abstract sensor representation virtual scan allows for efficient computations and fits a variety of laser range sensors we show how to build virtual scans from 3d range data and how to detect poorly visible black vehicles fig 1 in the urban grand challenge the robots were required to autonomously navigate in a mock urban town the robots had to follow the california rules with respect to other robots human driven vehicles and the environment abstract situational awareness is crucial for autonomous driving in urban environments this paper describes moving vehicle tracking module that we developed for our successful entry in the urban grand challenge an autonomous driving race organized by the us government in 2007 the module provides reliable tracking of moving vehicles from a high speed moving platform using laser range finders our approach models both dynamic and geometric properties of the tracked vehicles and estimates them using a single bayes filter we also show how to build efficient 2d representations out of 3d range data and how to detect poorly visible black vehicles velodyne laser riegl laser ibeo laser applanix ins bosch radar sick lms laser sick ldlrs laser fig 2 junior our entry in the darpa urban challenge junior is equipped with five different laser measurement systems a multi radar assembly and a multi signal inertial navigation system g x1 x2 x3 xt v1 v2 v3 vt z1 z2 z3 zt probabilistic model fig 3 dynamic bayesian network model of the tracked vehicle pose xt xt yt t forward velocity vt geometry g and measurements zt we assume linear vehicle motion model p xt xt 1 vt with random perturbations in orientation the velocity evolves via addition of random bounded acceleration each vehicle is modeled as a rectangle of width w and length l the measurement model expects to find points on the visible surface of the vehicle see paper for details fig 4 as we move to observe a different side of a stationary car our belief of its shape changes and so does the position of the car's center point to compensate for the effect we introduce local anchor point coordinates c cx cy so that we can keep the anchor point xt stationary in the world coordinates thus the compete set of geometric parameters is g w l cx cy we use rao blackwellized particle filters for inference we estimate x and v by samples and keep gaussian estimates for g within each particle the shape posterior is approximated by a gaussian using laplace's method fig 6 our approach performs at 40hz on average which is faster than real time for most laser sensors it has proven to be reliable and capable of handling complex situations presented at the urban challenge inference we construct efficient 2d virtual scans out of 3d data to project 3d onto 2d we first take out ground readings as well as objects that are too high or too low to be of interest we determine ground readings by comparing angles between consecutive rays see fig 5 below fig 5 creating 2d virtual scans out of 3d data a determination of ground readings b actual scene c classified 3d data orange ground green high obstacles yellow low obstacles red obstacles of interest d resulting virtual scan a b c  if a b c are ground readings  0 cos  1 a b c d a b c d a b c d fig 7 detection of black vehicles in 3d range scans is done by looking for absent data a actual vehicle appearance b velodyne scan containing the vehicle c generated virtual scan after black vehicle detection d tracking results p23
