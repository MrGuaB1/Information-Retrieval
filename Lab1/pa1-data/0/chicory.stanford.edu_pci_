the pci monitor specification project the pci specification project formal specification of interfaces goals with this project we aimed to write a formal specification of a well used interface protocol our goals for such a specification are as follows eliminate ambiguity an interface specification is an agreement between two parties ideally based on this agreement different parties can implement a machine respectively without any further communications however there are usually ambiguities in non formal specifications which may result in the two parties creating machines which are not compatible due to differing interpretations of the ambiguous specification or after agreeing on a specification the two parties must constantly communicate with each other to implement compatible systems this may become a headache if there are numerous parties using the interface protocol which is the case for most protocols a formal specification is precise and concise and does not cause these problems eliminate contradictions with a non formal lengthy specification it is very easy to specify a rule in one part of the specification and then specify a contradicting requirement somewhere else in the specification with a formal logical specification this problem can be avoided entirely by doing an automatic logical analysis on the specification and have a program point out contradictions in the specification check correctness for all cases protocols usually work as intended for majority of the cases however often there are chicoryer cases where a protocol acts in a non intended bad way by having a logical specification which a program can analyze for every possible scenario this problem is avoided pci as a case study we chose pci because of its relative simplicity and its popularity and as a specification style which can easily be analyzed we chose the monitor style results we have formally specified a subset of the pci bus protocol in this monitor style specification the result is a concise easily readable specification in addition we have found several problems with the pci protocol never giving up the bus the protocol is intended to never allow any one agent to hog the bus and not let other agents use the bus however if an agent asserts irdy from an idle state of ths bus there is no rule forcing that agent to deassert irdy so that another agent can start a transaction on ths bus the agent can forever stay in this state blocking out other agents changing its mind when it's not supposed to the current pci protocol allows the target to change from signaling target abort to disconnect with data within the same transaction other combinations of signaling change of mind s exist this leaves open the question of how a master should react to such confusing singaling from the target there were also other problems such as minor inconsistencies and confusing ambiguities in the pci protocol for example in section 3.2 4 it is stated that trdy should use the address phase as a turnaround cycle ie no agent is driving trdy but for a back to back transaction trdy will need to be driven deasserted during the address phase more details publications monitor based formal specification of pci kanna shimizu david l dill and alan j hu fmcad 2000 pdf postscript bibliography entry presentation slides here are the presentation slides from the fmcad 2000 talk on this topic tutorial a tutorial on the monitor style specification method we have developed a brief overview of the monitor style specification including applications of such a specification how to write the monitor style specification download here is how you can obtain a copy of our formal pci specification please read the documentation first here are the instructions if for some reason the generator doesn t work please fetch the main verilog monitor file here the only difference is you won t be able to specify the number of agents and address ranges for advanced users for fellow researchers working with pci here are some other files you might want to see investigators kanna shimizu professor david l dill we would very much like feedback on this project please send any thoughts comments suggestions to kannas ofb net if you know of any protocols which will challenge our method we really want to know about them thank you site index last modified june 20 2000
