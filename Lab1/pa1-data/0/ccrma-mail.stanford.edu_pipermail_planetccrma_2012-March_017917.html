planetccrma fwd re announce 3.2 9 rt15 planetccrma fwd re announce 3.2 9 rt15 fernando lopez lezcano nando at ccrma stanford edu mon mar 5 14 55 23 pst 2012 previous message planetccrma new fc16 rt kernel 3.2 9 rt15 next message planetccrma fwd re announce 3.2 9 rt15 messages sorted by date thread subject author re the kernel panics on shutdown i m building a new version of the kernel with this patch added fernando original message subject re announce 3.2 9 rt15 date mon 05 mar 2012 17 14 00 0500 from steven rostedt rostedt at goodmis org to thomas gleixner tglx at linutronix de cc lkml linux kernel at vger kernel org linux rt users linux rt users at vger kernel org clark williams clark at redhat com luis claudio r goncalves lclaudio at uudg org fernando lopez lezcano nando at ccrma stanford edu thomas please fold this change into cpu rt make hotplug lock a sleeping spinlock on rt patch as the patch was never tested nor even compiled it introduced a nasty bug into taking a cpu down instead of fixing one thanks steve diff git a kernel cpu cb kernel cpu c index c25b5ff 66dfb74 100644 a kernel cpu c b kernel cpu c 59 16 59 20 static struct int refcount cpu_hotplug active_writer null ifdef config_preempt_rt_full lock __spin_lock_unlocked cpu_hotplug lock else lock __mutex_initializer cpu_hotplug lock endif refcount 0 ifdef config_preempt_rt_full define hotplug_lock spin_lock &cpu_hotplug lock define hotplug_unlock spin_unlock &cpu_hotplug lock define hotplug_lock rt_spin_lock &cpu_hotplug lock define hotplug_unlock rt_spin_unlock &cpu_hotplug lock else define hotplug_lock mutex_lock &cpu_hotplug lock define hotplug_lock mutex_unlock &cpu_hotplug lock define hotplug_unlock mutex_unlock &cpu_hotplug lock endif struct hotplug_pcp previous message planetccrma new fc16 rt kernel 3.2 9 rt15 next message planetccrma fwd re announce 3.2 9 rt15 messages sorted by date thread subject author more information about the planetccrma mailing list
