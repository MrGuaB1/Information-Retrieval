ifndef root_tmonitor define root_tmonitor seq copyright t noinclude tmonitor this class monitors activity on a number of network sockets the actual monitoring is done by tsystem dispatchoneevent typical usage create a tmonitor object register a number of tsocket objects and call tmonitor select select returns the socket object which has data waiting tsocket objects can be added removed temporary enabled or disabled ifndef root_tobject keep tobject include tobject h kend endif class tsocket class tlist class tmonitor public tobject private tlist factive list of sockets to monitor tlist fdeactive list of temporary disabled sockets tsocket fready socket which is ready to be read public tmonitor virtual tmonitor void add tsocket sock void remove tsocket sock void activate tsocket sock void activateall void deactivate tsocket sock void deactivateall tsocket select tsocket select long_t timeout void setready tsocket sock int_t getactive const int_t getdeactive const classdef tmonitor 0 monitor activity on a set of tsocket objects endif
