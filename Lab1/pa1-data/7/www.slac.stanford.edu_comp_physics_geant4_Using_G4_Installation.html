using geant4 installation using the slac installation of the geant4 toolkit last modified current installation the latest geant4 libraries are centrally maintained and installed so that users may build and link their applications to them rather than build and maintain their own libraries geant4 9.5 is now installed on the 32 bit and 64 bit linux machines rhel5 32 rhel6 32 rhel5 64 rhel6 64 access to older libraries including geant4 9.3 patch02 and 9.4 patch03 are available upon request the previous version of this document is also available various data files required for optional geant4 processes and models are also centrally maintained and automatically accessed by the setup scripts accessing the slac installation to compile and link a simulation executable using the current geant4 toolkit several environment variables must first be set this is done in a script which also chooses the combination of geant4 and clhep libraries appropriate to the computing platform the script can be found in afs slac package geant4 g4setup env to begin choose a work directory and in it mkdir geant4 cd geant4 cp afs slac package geant4 g4setup env source g4setup env the essential variables set by this file are g4workdir working directory which will contain your specific code and the binary application g4system g4 code for the system architecture g4setup env must be sourced each time you log in and want to rebuild or run the executable if you log in to a generic machine eg noric as opposed to a specific one eg noric10 the machine and hence the libraries may be different in this case clean and rebuild your application alternate method if you know the specific platform you are using rhel5 32 for example mkdir geant4 cd geant4 cp afs slac package geant4 9.5 env rhel5 32 csh source env rhel5 32 csh repeat this line each time you log in to this platform sh versions of this script are also available setup scripts for old versions are also available in afs slac package geant4 9.4 p03 9.3 p02 and so on visualization interfaces for several visualization drivers have been compiled into the toolkit libraries currently the setup scripts choose opengl but the user may choose another driver by setting the appropriate environment variable before building the executable note that on rhel6 machines there are problems with visualizations using pop up windows this feature failed on the central unix machines when using a local desktop x server xwin32 this issue is currently being investigated if you need this type of visualization please use the rhel5 machines file based visualizations that is those which are written to jpg gif etc work well on either rhel5 or rhel6 systems building and running the executable the following steps will lead you to a working executable with visualization using opengl first be sure that the environment is set if you haven t already done so do one of the following source env rhel5 32 csh sh source env rhel5 64 csh sh source env rhel6 32 csh sh source env rhel6 64 csh sh next you may use either gmake or cmake to build the executable using gmake go to your work directory in the above example geant4 from the geant4 installation copy the code for example 3 cp r g4install examples novice n03 n03 cd to n03 gmake gmake will create tmp and bin directories in your work directory the executable named examplen03 will be in bin g4system while in directory n03 run the executable bin g4system examplen03 using cmake go to your work directory in the above example geant4 from the geant4 installation copy the code for example 3 cp r afs slac stanford edu package geant4 vol51 geant4 9.5 examples novice n03 n03 cd to n03 cmake note this is the command cmake followed by a space and a period within the current directory in this case n03 cmake will create a directory named cmakefiles which includes temporary files makefile is also created in this directory while in directory n03 run the executable examplen03 if everything goes according to plan you should see the idle prompt on your screen after some preliminary output from this prompt type run beamon 1 to see an event displayed repeat until you get tired or bored then exit to finish at this point you are ready to add to and modify the code in your copy of n03 for more information about developing your own simulation code using geant4 see the application developer's guide dennis wright tatsumi koi
