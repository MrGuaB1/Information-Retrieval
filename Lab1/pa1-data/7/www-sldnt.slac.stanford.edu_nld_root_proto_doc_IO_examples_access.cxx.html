access to tmap and tclonesarray io access to tmap and tclonesarray io root macro to access tmap from file 6 98 rxd printf starting tmap access n groot reset access root file and set up tree tfile f event root ttree t ttree f get t create pointer to to be read in tmap and init to zero tmap readmap 0 set up the branch for the map and tell it where the tmap really is tbranch testmap t getbranch testmap testmap setaddress &readmap tclonesarray readclone 0 tbranch testclone t getbranch testclone testclone setaddress &readclone the objects stored in the tmap akey key aval val int_t nevent t getentries printf read in file for i events n nevent for int_t i 0 i nevent i++ get the whole event t getevent i set up the tmap iterator tmapiter next readmap printf loop over map elements n while key akey next val aval readmap getvalue key printf key i val f type i n key getkey val getval val getmcpart gettype tclonesarray& mcpart readclone for int_t i 0 i 4 i printf particle type i n mcpart mcpart i gettype root page class index top of the page this page has been automatically generated if you have any comments or suggestions about the page layout send a mail to root support or contact the developers with any questions or problems regarding root
