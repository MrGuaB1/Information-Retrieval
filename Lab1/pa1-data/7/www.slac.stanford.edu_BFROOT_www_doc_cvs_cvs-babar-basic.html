basic cvs commands used by babar 16 dec 1998 summary of useful commands checking out package from cvs making changes in check out folder examine changes before commit getting latest update from cvs if necessary adding and removing files committing files to cvs tagging a package history file handling summary of important commands cvs n update da check how many files has been changed cvs diff dnow file compare files with head 1 isolate and examine one's changes before commit 2 make sure one does not accidentally compromise other's changes checking out package from cvs newrel t rel dir create a test release addpkg pkg check out package from cvs cd pkg cd to package making changes in check out folder cvs update da before editing update to head d getting new sub directories if any emacs making changes it's better updating to the head before making changes else you may find yourself editing lines that has been revised sy someone else if the head version from cvs does not work anymore due to bugs introduced by others following the following procedure 1 fix file and test it in the local test release to prove that the patch works 2 cvs update da file to merge in other's patch if any 3 test again and make sure that the new version still works as much as possible 4 commit the code examine changes before commit important 1 compare files with head cvs n update da list all files that have been modified u file1 there is new version in cvs no diff needed m file2 there is new version in local folder need diff c file3 there are new version in cvs and local folder need diff cvs diff dnow file examine the diff with head one needs to compare files if the label is m or c use cvs diff dnow to compare local version with the head look for changes that do not belong to you if there is none go to step 4 if there is differences that do not belong to you consider option 2 and 3 2 if there is new version in cvs committed by another user type cvs update da merge with head version then go back to step 1 until only your changes remain in diff 3 if your version is actually a copy from a previous version type mv file file old save your version cvs update da file get a fresh copy emacs file put your changes back then go back to step 1 until only your changes remain in diff 4 commit to cvs cvs ci note do not commit a copy back if you see any changes that do not belong to you when in doubt always check out a fresh copy and start over the editing session getting latest update from cvs if necessary cvs n update da check how many files has been changed m file1 modified locally c file2 there is new version in cvs need merging cvs update da if local version is not head update it use cvs n update da to examine the status of your local folder if there is a files that is labelled c it means this file will need merging you can go ahead and do the actual update or make a copy before doing the merging adding and removing files cvs add newfile add new files to local cvs database rm oldfils remove from disk cvs rm oldfiles remove from local database cvs committing files to cvs cvs ci now actually commit changes to cvs tagging a package after you made changes to a package updated your local copy and commited your changes to the cvs repository you can tag this package version cvs update da make sure it is up to date cvs tag symbolic tag tag the package this will assign the symbolic tag to the repository version that corresponds to your local copy the official symbolic tag in babar looks like the following v00 12 01 official tags need to be made for any release build for private use between developers private tags are often made these usually consist of the users initials plus the date eg th030212 or th030212a if more than one is made per day private tags cannot be submitted for release builds an official tag will have to be made at that point it is preferred that all tags be either of the official form or the private form and not a mix of the two history file handling the preparation 1 create one history file for main directory and each sub directory if any 2 add log history v to each history file upon commit 3 add a carriage return to history file 4 type cvs ci or cvs ci history file1 file2 to expand the key word with actual remarks of commit maintained by terry hung send suggestions and additions to terryh slac stanford edu 650 926 3618
