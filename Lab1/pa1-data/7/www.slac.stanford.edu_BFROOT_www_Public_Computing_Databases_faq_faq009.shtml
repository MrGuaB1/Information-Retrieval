babar database faq the objectivity tool oocleanup fails to release locks what do i do next tips i m getting an error reporting a problem faq search site map faq the objectivity tool oocleanup fails to release locks what do i do next oocleanup is the only official objectivity tool that allows you to release locks to release both update locks and read locks do the following check whether oo_fd_boot is correctly set to view all locks enter the command oocleanup on all hosts where locks exist enter the command oocleanup local re enter the command oocleanup if the locks still appear make sure the corresponding process is not running and then reenter the command oocleanup local when you can not login to the host to check whether your job is dead the host is down for exampl it may be necessary to use the command oocleanup deadowner transaction your transaction id here if your application generates this error cannot grant requested lock conflict with an existing lock you might have read locks that are not detected by oocleanup or oolockmon note that sometimes the command oocleanup will generate the error recovery already in progress this occurs if another oocleanup is running it hung or has been killed with ctrl c or kill 9 if you see this error stop the oocleanup that is causing problems first if you have access to a journal server log on cd to the journal directory if you do not know were it is see the bootfile look for the file oorecvr lck read the contents of the file and determine who started currently running oocleanup on what host and the process id make sure the oocleanup process is dead if it's hung kill it if you do not have access to a journal server ask somebody who has access to check it for you run oocleanup resetlock transaction your transaction id here this command will remove oorecvr lck file misuse of the flag resetlock may corrupt data babar public site slac news links who's who contact us page owner jacek becla last update july 17 2002
