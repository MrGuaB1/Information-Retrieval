the monte carlo farm tape staging system the monte carlo farm tape staging system stgserve is a server which stages data on vm and then transfers the data to vms using nfsmount the server is designed to work with the monte carlo farm only stgserve is not designed for general use please use the vms staging system instead the client code is stage c and cartcmd prepmort located in ducscart on vms and the server code is stgserve exec located on the sldstage vm account how it works the opentape command is intercepted and routed through stage c the client then sends the tape request to stgserve on vm the server stages the tape and returns the address of the disk to stage c which in turn mounts the disk using nfsmount and the returned address the stgserve server should always be running in a disconnected state if there appears to be a problem with the server perform the following steps type qstage from a vms window if you get the response could not connect to remote host stgserve then the server is down and needs to be restarted otherwise the server is running and may or may not be the cause of your problems if the server is down or you feel that it needs restarting then continue with the following steps log into the sldstage account on vm if you get vm read prompt the server is down and needs restarting see below if you get the cp read prompt the server is still running you can safely take down the server if all disks are nfsmounted use the qstage command to see otherwise you will cause some jobs to crash if you still want to take the server down type begin to return to cms then type exit to stop the server otherwise type disc to leave the server running restarting the server logout to clear the account and log back in type stgserve and wait for the reply of initialization complete return to cp by pressing the attn key twice this key is usually pf4 on the number pad type disc to disconnect
