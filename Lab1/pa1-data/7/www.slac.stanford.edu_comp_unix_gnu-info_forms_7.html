forms mode user's manual modifying the forms contents go to the previous next section modifying the forms contents if forms read only is nil the user can modify the fields and records of the database all normal editing commands are available for editing the contents of the displayed record you cannot delete or modify the fixed explanatory text that comes from string formatting elements but you can modify the actual field contents if the variable forms modified record filter is non nil it is called as a function before the new data is written to the data file the function receives one argument a vector that contains the contents of the fields of the record the function can refer to fields with aref and modify them with aset the first field has number 1 one thus element 0 of the vector is not used the function should return the same vector it was passed the possibly modified contents of the vector determine what is actually written in the file here is an example defun my modified record filter record modify second field aset record 2 current time string return the field vector record setq forms modified record filter my modified record filter if the variable forms new record filter is non nil its value is a function to be called to fill in default values for the fields of a new record the function is passed a vector of empty strings one for each field it should return the same vector with the desired field values stored in it fields are numbered starting from 1 one example defun my new record filter fields aset fields 5 login name aset fields 1 current time string fields setq forms new record filter my new record filter go to the previous next section
