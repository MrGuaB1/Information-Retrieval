using geant4 and analysis installation using the slac installation of the geant4 toolkit with the jaida g4 analysis package last modified introduction a recipe for building and running a simulation executable using the geant4 toolkit and the jaida g4 analysis package is provided libraries for both of these packages are installed and maintained by the slac geant4 group so that users need only link their applications to them as a starting point for new users a geant4 example with histogramming has been provided current installation the latest geant4 libraries are centrally maintained and installed so that users may build and link their applications to them rather than build and maintain their own libraries geant4 9.3 patch 01 is now installed on the 32 bit and 64 bit linux machines rhel4 32 rhel5 32 rhel4 64 rhel5 64 access to older libraries is available upon request various data files required for optional geant4 processes and models are also centrally maintained and automatically accessed by the setup scripts this analysis example requires the jaida g4 package this package and its examples were originally prepared for the slac geant4 workshop of february 2002 the file names tree configuration and setup scripts have been modified in the current slac installation jaida g4 is supported on the platforms listed above accessing the slac installations to compile and link a simulation executable using the current geant4 toolkit and the jaida analysis package several environment variables must first be set this can be done as follows choose a work directory for example mytestdir copy to it the files afs slac package geant4 g4setup env and afs slac package geant4 vol0 analysis jaida env important notice the current example requires jaida version 3 a fresh download of jaida env is required in order to get the latest libraries in g4setup env modify the line in the file which sets the g4workdir environment variable so that it reads setenv g4workdir home mytestdir source g4setup env source jaida env g4setup env must be sourced first the essential variables set by g4setup env file are g4workdir working directory which will contain your specific code and the binary application g4install location of the installed code and libraries g4system g4 code for the system architecture clhep_base_dir base directory of the clhep libraries against which the toolkitis linked and against which your code should be linked clhep_lib location in the slac directory structure of clhep libraries built for a given platform the essential variables set by aida env file are jdk_home java home directory g4analysis_use enables geant4 analysis packages jaida_home base directory for the jaida ver 3.2 1 package aidajni_home base directory for the jaidajni ver 3.2 1 package visualization currently openglx and jas cannot run simultaneously so the environment variable g4vis_use_openglx is unset in the script building and running the executable the following steps will lead you to a working executable with histogramming go to your work directory cd g4workdir from the g4 jaida installation copy the code for example a01 cp pr g4install examples extended analysis a01 a01 cd to a01 gmake clean gmake gmake will create tmp and bin directories in your work directory the executable named a01app will be in bin g4system while in directory a01 run the executable bin g4system a01app which will bring up the interactive prompt idle to run 10 events you can now enter run beamon 10 if all goes well a jas window will appear containing two histograms and three scatterplots to terminate the job at the prompt enter exit currently you must also close the jas aida window to get the job to stop in the a01 directory will be a file a01 aida which contains the plots to examine them usr local bin jas3 & or jas3 & at this point you are ready to add to and modify the code in your copy of a01 to learn more about developing your own simulation code using geant4 see the application developer's guide tatsumi koi dennis wright
