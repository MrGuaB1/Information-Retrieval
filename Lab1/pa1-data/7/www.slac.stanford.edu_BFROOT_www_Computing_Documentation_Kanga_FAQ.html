kanga++ faq kanga interactive access this faq has been updated for release 16.0 2 and later an earlier faq is here how do i run kanga interactively from any release after 16.0 2 you just type kanga for workdir srtpath ret ret cd workdir kanga you will see the root splash logo and they should be left at the root prompt how do i open a collection once you started kanga you simple do root 0 kaneventsource input kaneventsource micro root 1 input add my collection name the first command builds an object which can read collections and behaves just like a ttree that is to say you can call all the same functions for a kaneventsource as you could for ttree at this point you will see some messages about opening your collection how do i find out how many events are present in a collection root 3 input nevt const unsigned int 14332 note that you have to leave off the trailing semicolon otherwise root doesn t print out the return value how do i find out what components are present in a collection root 4 input listcomponents hdr tag cnd aod so in this case the header hdr event tag tag beta candidate cnd and micro aod components are present how do i get access to a particular component of my collection kaneventsource has some functions to do exactly that for example root 5 input gethdr nevt const unsigned int 14332 how do i figure out data that are present in a certain component you can get a special printout of the structure of each component that tells you the list of branches and the types of object on each branch by giving the following command root 6 input gethdr print kanheadertree 0 hdr babar root tree hdr__comps r 0 1 w xxx+ kanclonesvector_i kanevtheaderentryi kanevtheaderentryk hdr_ r 0 2 w xxx+ kanevtheaderk hdr__eid r 0 3 w xxx+ kanevtidk cdbstateid r 0 4 w xxx+ kanclonesvector_i cdbkanstateidi cdbkanstateidk the syntax of this printout is treetype tid treename treetitle branchname r readbranch w xxx+ branchclassname next branch treetype is kanheadertree since this is the header component tid is the tree id ie 0 hdr treename is the component name hdr in this case treetitle is babar root tree branchname is the name of the branch the data are located on for example hdr__eid is the branch with the event id on it readbranch is tid bid where tid is the tree id 0 hdr and bid is the branch id 0 1 2 w xxx+ means that this branch is not configured for output this is normal since you are reading the tree in not wrtring it out branchclassname is xxxclassk for single objects kanclonesvector_i xxxclassi xxxclassk for vectors xxxclassi is the interface of the objects on the vector and xxxclassk is the actual persistent type also this page has a table of all the data available in kanga collections once i know the component and branch that something is on how do i plot it well you don t draw data objects you draw functions of data objects for example root 7 input getaod draw pid_dchpids warning in not implemented for tclonesarray because you tried to plot a bunch of dchpidinfo objects on the other hand root 8 input getaod draw pid_dchpids dedx works nicely interestingly enough you can call plot any function of the data objects specifically root 9 input getaod draw pid_dchpids print will give you a plot with lots of entries at zero but will call print on every single dchpidinfo object in the collection this might be useful for certain tasks can i have more than one input source certainly every time you call kaneventsource micro you get a new input source root 10 kaneventsource inputdata kaneventsource micro root 11 kaneventsource inputmc kaneventsource micromc root 12 kaneventsource list name events components _micro0 0 hdr usr tag cnd aod _micro1 0 hdr usr tag cnd aod _micromc0 14332 hdr usr tag cnd aod tru can i use the tbrowser to browse the data i have no idea probably not how can i find out what functions are available for a particular class of data object there are several ways but the two easiest are look in the html reference use tab completion from the root prompt by typing for example dchpidinfoi tab how do i plot a tag bit or int or float you have to use the to protect the quotes inside the draw function root 11 input gettag draw tag floatval etotal can i write macros to do more complicated operations and loops yes in fact some example macros are being collected here i found some bug what should i do it would be nice if kanga did my analysis for me can you add a function to do that post stuff like this to the relevent hypernews eric charles last modified thu jun 17 15 35 30 pdt 2004
