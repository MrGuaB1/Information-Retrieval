include dj directexec hh void dj_direct_gatemap deliver const dj_message &a const delivery_args &da if a target type ep_gate da cb delivery_remote_err return dj_msg_sink s gatemap_ cobj a target ep_gate gate gate_ct a target ep_gate gate gate_id if s da cb delivery_remote_err return s a da cb delivery_done dj_slot dj_direct_gatemap create_gate uint64_t ct dj_msg_sink cb dj_slot ep ep set_type ep_gate ep ep_gate msg_ct 0xdeadbeef ep ep_gate gate gate_ct ct ep ep_gate gate gate_id counter_ gatemap_ insert cobj ep ep_gate gate gate_ct ep ep_gate gate gate_id cb return ep void dj_direct_gatemap set_ep const dj_slot &ep dj_msg_sink cb assert ep type ep_gate gatemap_ insert cobj ep ep_gate gate gate_ct ep ep_gate gate gate_id cb void dj_direct_gatemap destroy const dj_slot &ep if ep type ep_gate warn dj_direct_gatemap destroy not a gate n return cobj_ref cid cobj ep ep_gate gate gate_ct ep ep_gate gate gate_id gatemap_ remove cid
