80386 programmer's reference manual section 16.1 up chapter 16 mixing 16 bit and 32 bit code prev chapter 16 mixing 16 bit and 32 bit code next 16.2 mixing 32 bit and 16 bit operations 16.1 how the 80386 implements 16 bit and 32 bit features the features of the architecture that permit the 80386 to work equally well with 32 bit and 16 bit address and operand sizes include the d bit default bit of code segment descriptors which determines the default choice of operand size and address size for the instructions of a code segment in real address mode and v86 mode which do not use descriptors the default is 16 bits a code segment whose d bit is set is known as a use32 segment a code segment whose d bit is zero is a use16 segment the d bit eliminates the need to encode the operand size and address size in instructions when all instructions use operands and effective addresses of the same size instruction prefixes that explicitly override the default choice of operand size and address size available in protected mode as well as in real address mode and v86 mode separate 32 bit and 16 bit gates for intersegment control transfers including call gates interrupt gates and trap gates the operand size for the control transfer is determined by the type of gate not by the d bit or prefix of the transfer instruction registers that can be used both for 32 bit and 16 bit operands and effective address calculations the b bit big bit of data segment descriptors which determines the size of stack pointer 32 bit esp or 16 bit sp used by the cpu for implicit stack references up chapter 16 mixing 16 bit and 32 bit code prev chapter 16 mixing 16 bit and 32 bit code next 16.2 mixing 32 bit and 16 bit operations
