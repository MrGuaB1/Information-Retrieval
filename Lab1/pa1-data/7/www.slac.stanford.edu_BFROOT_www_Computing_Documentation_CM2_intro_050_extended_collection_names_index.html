cm 2 extended collection names slac pep ii babar slac ral babar logo cm2 logo hepic e s & h databases pdg hep preprints organization detector computing physics documentation personnel glossary sitemap search hypernews extended collection names collections for bdb objy classic kanga and the new cm2 kanga typically have a form like xxx yyy zzz for cm2 kanga a concrete example is store pr r14 allevents 0004 58 14.3 2 allevents_00045810_14 3.2 v00 this collection was produced by pr and contains the events output from a particular processing of run 45810 if you are interested there is an rfc which describes all of details of how these collection names are constructed in cm2 for skim collections we skim many different pr or sp collections and then merge the output an example skim collection is store prskims r12 14.3 2h jpsitoll 02 jpsitoll_0213 in practice this means that any given skim collection may contain skimmed events from many different data runs for example it is occasionally useful to be able to exclude specific runs however as runs may be declared bad have specific detector problems etc in order to deal with this type of situation and other similar ones we have created an extended collection syntax for cm2 an example of the new syntax which deals with the problem mentioned above is store prskims r12 14.3 2h jpsitoll 02 jpsitoll_0213 rejectrun 35654 this will read the indicated skim collection but all events from run 35654 will be filtered out and won t be passed to the event loop of a framework application in general the collection name is extended simply by appending something of the form keyword value currently there are 10 keywords which can be used as part of the extended collection syntax selectrun select only events from the specified run s rejectrun reject events from the specified run s selecteventsequence select events from a particular event sequence rejecteventsequence reject events from a particular event sequence selectconfigkey select only events with the specified config key s rejectconfigkey reject events with the specified config key s selectcondalias select only events with the specified config key s rejectcondalias reject events with the specified config key s selecteventid select events with the specified event id s rejecteventid reject events with the specified event id s and values can be constructed as comma separated lists ranges or combinations of both eg rejectrun 1 3 5 7 8 9 rejectrun 1 3 5 7 9 selecteventsequence 1 10000 are all valid extensions the condalias extension is a special case as it unlike the others doesn t take simple numeric values but instead the same condalias strings you use to configure moose eg selectcondalias mar2002 may2003 selectcondalias mar2002 jun2002 the eventid extension is another special case only individual values are accepted no ranges the event ids are the ascii form of the eideventtriplet ie the same as generated in the log files by evtcounter for example 7f 4fff7fff 2d268d 7d318347 k in fact you can even combine these such that multiple extensions are added xxx yyy zzz rejectrun 35654 selecteventsequence 1 1000 will pass events which come from the first 1000 events in the collection and which are not run 35654 as you can see each keyword value is effectively a filter on the input events one subtle thing to note is that each time you append a keyword value to a collection name you are creating a new separate filter this means that xxx yyy zzz selectrun 8 selectrun 10 will select no events as no single event can pass both filters what you probably wanted to do was xxx yyy zzz selectrun 8 10 to select all events from both run 8 and run 10 the dataset bookkeeping will generate extended collections using in particular the rejectrun keyword in addition the old method of generating tcl to allow individual jobs to run on a limited number events using the first set xxx of the input module and ev begin nev yyyy will be replaced by collection names generated using the selecteventsequence keyword one last thing to note is that this extended collection syntax is only available when running on the cm2 kanga data and only when running framework applications kancollutil kancopyutil and interactive kanga do not support it at the moment as the extensions are basically filters they can also only be used on input collections last modified 30 jul 2004 peter elmer
