lucretia r matrices lucretialogo the lucretia project r matrix operations lucretia has two functions which permit the user to calculate the linear transfer maps r matrices in a beamline one important note is that both of these functions compute the transfer map of an element for the momentum specified by beamline p and they perform their calculation for the nominal centerline of the axis ie misalignments are ignored furthermore any errors in element excitations are also ignored matrices are computed for a flat error free lattice a note on momentum since the r matrix functions compute the maps for a given momentum p at each element dispersion and momentum compaction are defined in the conventional way ie r_16 is in meters per unit of fractional momentum error etc since ray position vectors in lucretia beams use actual momentum in gev c as their 6th coordinate multiplying a lucretia ray vector and a lucretia r matrix will give the wrong answer getrmats function getrmats computes the individual r matrices of each element in a specified range and returns each of them to a data structure stat r getrmats elem1 elem2 returns a lucretia status cell array see here for details on that and a data structure array r r has only one field rmat so r 1 rmat is the 6 x 6 transfer map of elem1 r 2 rmat is the map of the second etc argument elem1 must be elem2 or an error will result ill defined or invalid elements in the selected range can cause a return value stat 1 1 otherwise stat 1 will be 1 rmatatob function rmatatob computes the linear transfer map between two points stat r rmatatob elem1 elem2 computes the map from the upstream face of elem1 to the downstream face of elem2 argument elem1 elem2 or an error will result if any element in the selected range is invalid or ill defined rmatatob will return stat 1 0 and r will be empty rmatatob version getrmats version return version information on the components used to build rmatatob and getrmats quarkpt 24 mar 2005 slac logo
