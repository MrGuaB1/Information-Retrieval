slac pep ii babar slac ral babar logo cm2 logo hepic e s & h databases pdg hep preprints organization detector computing physics documentation personnel glossary sitemap search hypernews using kanaccess the kanaccess utility provides the mapping from logical file names lfns to physical file names pfns for cm2 data the kancollutil utility can be used to determine the lfns and pfns for a given collection this utility is not generally needed by the average user it is used instead behind the scenes by some other tools and by some production scripts it is documented here however for completeness you should find kanaccess as part of the release for example if your test release is based on 14.3 1 myrel workdir which kanaccess afs slac stanford edu g babar dist releases 14.3 1 bin linux24rh72_i386_gcc2953 kanaccess myrel workdir otherwise you can make kanaccess by checking out the kanutils package and linking it usage kanaccess lfn1 lfnn available options for kanaccess default h usage options default behavior kanaccess expects no options simply a list of lfns for example after using kancollutil to determine that the lfn root kanolb a 1094 store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 01 root is one of the lfns for the collection store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 then the corresponding pfn can be determined simply myrel workdir kancollutil l store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 286908 events lfn 000 store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 01 root owned lfn 001 store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 02e root owned myrel workdir kanaccess store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 01 root root kanolb a 1094 store pr r12 allevents 0002 14 12.3 4e allevents_00021439_12 3.4 ev00_c14 2.0 bv00 01 root option h there is also command line help available to see the most up to date set of options myrel workdir kanaccess h adding kanaccess to your test release from your test release check out the kanutils package for example if your test release is based on the 14.3 1 release myrel addpkg kanutils offline release 14.3 1 uses kanutils version v00 03 09 will check that out cvs checkout updating kanutils u kanutils gnumakefile u kanutils kanaccess cc u kanutils kanbbrroot cc u kanutils kanbbrroot hh u kanutils kanbkgrconverter tcl u kanutils kancollutil cc u kanutils kancopyutil cc u kanutils kanfileutil cc u kanutils kanframeapp cc u kanutils kanfrombdbconverter tcl u kanutils kanmergecollections tcl u kanutils kanrepairfrombdb tcl u kanutils kanutils cc u kanutils kanutils hh u kanutils kanutilsprocs tcl u kanutils readme u kanutils bin_kanaccess mk u kanutils bin_kancollutil mk u kanutils bin_kancopyutil mk u kanutils bin_kanfileutil mk u kanutils bin_kanframeapp mk u kanutils bin_kanutils mk u kanutils binlist u kanutils link_kanutils mk u kanutils mergeexample tcl u kanutils mergeprexample tcl gnu make version 3.79 1 build options linux24rh72_i386_gcc2953 debug native objy optimize fastbuild ldlink2 skipslaclog static lstatic linux noric11 2.4 20 28slac2 7smp 1 smp wed jan 21 23 01 23 pst 2004 i686 unknown uname a installdirs myrel then build the executable myrel gmake kanutils kanaccess gnu make version 3.79 1 build options linux24rh72_i386_gcc2953 debug native objy optimize fastbuild ldlink2 skipslaclog static lstatic linux noric11 2.4 20 28slac2 7smp 1 smp wed jan 21 23 01 23 pst 2004 i686 unknown uname a kanutils kanaccess sat feb 7 10 13 35 pst 2004 making kanutils d cc1 making kanbbrroot d cc1 making kanframeapp d cc3 making kanaccess d cc3 making kancopyutil d cc3 making kancollutil d cc3 making kanfileutil d cc3 compiling kanbbrroot cc libkanutils a cc 1 compiling kanutils cc libkanutils a cc 1 compiling kanaccess cc kanaccess o cc 3 linking kanaccess in kanutils link 1 afs slac stanford edu package gcc i386_linux22 gcc 2.95 3 lib gcc lib i686 pc linux gnu 2.95 3 libg2c a open o in function f_open u sf bartelt rwpackage gcc build gcc 2.95 3 i686 pc linux gnu libf2c libi77 src gcc 2.95 3 libf2c libi77 open c 213 the use of tempnam is dangerous better use mkstemp myrel then you should see it under your bin directory myrel workdir which kanaccess bin linux24rh72_i386_gcc2953 kanaccess myrel workdir
