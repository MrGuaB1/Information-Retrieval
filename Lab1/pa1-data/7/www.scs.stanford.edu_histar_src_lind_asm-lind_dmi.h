ifndef _asm_dmi_h define _asm_dmi_h 1 include asm io h extern void dmi_ioremap unsigned long addr unsigned long size extern void dmi_iounmap void addr unsigned long size define dmi_max_data 2048 extern int dmi_alloc_index extern char dmi_alloc_data dmi_max_data this is so early that there is no good way to allocate dynamic memory allocate data in an bss array static inline void dmi_alloc unsigned len int idx dmi_alloc_index if dmi_alloc_index len dmi_max_data return null return dmi_alloc_data idx define dmi_ioremap early_ioremap define dmi_iounmap early_iounmap endif
