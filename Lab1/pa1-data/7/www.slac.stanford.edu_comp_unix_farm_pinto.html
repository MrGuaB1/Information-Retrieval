getting started with slac's mpi pinto cluster computing at slac slac home computing home unix at slac high performance computing at slac parallel computing at slac mpi tutorial getting started with slac's mpi pinto cluster the pinto cluster slac's pinto cluster consists of 32 sunfire x2270 systems each with two quad core xeon processors running at 2.93 ghz thus there is a total of 256 cpus available in the cluster the systems have an infiniband low latency interconnect two of the machines available via the generic pool name pinto are open to interactive login to allow you to build and test your code mpi environment the pinto machines are installed with rhel5 including the openmpi packages supplied by redhat the current version is openmpi 1.4 when you log into a pinto your environment should be set up to use this version unless you have used redhat's mpi selector script or your login scripts to override the default you can check to see if your path is correct by issuing the command which mpirun currently this should return usr lib64 openmpi 1.4 gcc bin mpirun future updates to the mpi version may change the exact details of this path in addition your ld_library_path should include usr lib64 openmpi 1.4 gcc lib or something similar the following assumes you are logged onto a pinto and your environment is set up as described compiling code mpi versions of the common gnu compilers are available such as mpicc mpic++ mpif90 for example if you have the hello c program from the mpi tutorial you can say mpicc hello c o hello to compile and link the code into an executable named hello you can execute the program interactively by just saying hello submitting jobs batch jobs can be submitted to the pinto cluster by specifying a mympi on your bsub command this will send the job to the mpi ibq lsf queue by default you can also specify the queue explicitly q mpi ibq but that should not be necessary you specify how many cpus your job needs with the n opt so if you have the hello program from above in your home directory and want to run on 96 cpus you would say bsub a mympi n 96 hello further information check the links at the top of this page for more information on using mpi and batch at slac for more help send email to unix admin slac stanford edu john bartelt last modified 2010 august 09
