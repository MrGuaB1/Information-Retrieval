babar workbook slac pep ii babar slac ral babar logo hepic e s & h databases pdg hep preprints organization detector computing physics documentation personnel glossary sitemap search hypernews workbook home introduction account setup quicktour packages modules unwrap page event information tcl commands editing compile and link run the job debugging check this page with the w3c validator more checks parameters tcl files find data batch analysis root tutorial more fitting examples here are some examples of how to make user defined functions of several parameters fit over the full range of the data as well as display the fit over discrete sub ranges fitting a saved histogram myhist with a gaussian fit myhist fit gaus fitting the histogram with a polynomial fit of degree n where in this example n 9 myhist fit pol9 create a user defined function over a specific range and draw it f1 new tf1 f1 abs sin x x 0 10 f1 draw declare an exponential function called e1 to fit over the subrange 0 to 200 and perform that fit tf1 e1 new tf1 e1 expo 0200 myhist fit e1 r note that r in the above fit command stands for range if you leave out the r as an argument in the fit command the range of the fit is the current range of the histogram in this case the full range to reset the range to what you want you would have to use the setrange command if in the above example r was left out to reset the range of the fit e1 as 0 to 200 e1 setrange 0200 then you need to enter the fit command again using the r option myhist fit e1 r to display two subranges of fits on one display using for example the built in gaussian function tf1 g1 new tf1 g1 gaus 200 200 tf1 g2 new tf1 g2 gaus 200 0 myhist fit g1 r myhist fit g2 r+ to create a user designed function to use in a fit f2 new tf1 f2 0 x x+ 1 1 100100 now set the initial values of the parameters f2 setparameters 1000000 30 and fit the function to histogram myhist myhist fit f2 r back to workbook section root ii
