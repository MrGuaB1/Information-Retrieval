char sdoc sucmp compare two seismic data sets returns 0 to the shell if the same and 1 if different sucmp file_a file_b required parameters none optional parameters limit 1.0 e 4 normalized difference threshold value notes this program is the seismic equivalent of the unix cmp 1 command however unlike cmp 1 it understands seismic data and will consider files which have only small numerical differences to be the same sucmp first checks that the number of traces and number of samples are the same it then compares the trace headers bit for bit finally it checks that the fractional difference of a & b is less than limit this program is intended as an aid in regression testing changes to seismic processing programs expected usage is in shell scripts or makefiles eg bin sh run a test data set and verify the result is correct if the data doesn t match show the data on the screen fubar par tst1 par sucmp tst1 su ref tst1 su if then suxwigb tst1 su & suxwigb ref tst1 su & fi author reginald h beardsley rhb acm org sucmp compare two seismic files in cwp su format to see if they are the same within the user specified limit algorithm loop over both input files comparing data values to be considered the same files must have same number of traces same number of samples per trace trace values within limits of each other note that the program exits as soon as the files fail to match for readability explicit temporary variables are used which the compiler will optimize away braces are used on all conditionals so that a breakpoint can be set to stop the debugger only if the condition is true because of the overloading of trace header fields in cwp su the headers are compared bit for bit
