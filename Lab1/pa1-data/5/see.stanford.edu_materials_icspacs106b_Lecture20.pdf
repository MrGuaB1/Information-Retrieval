text editor case study buffer class interface buffer layered on vector page 1 admin today's topics stack queue implementations start editor buffer case study reading ch 10 & 9 lecture 20 text editor case study command line text editing commands f move cursor forward one character position b move cursor backward one character position j jump to start of buffer before first character e move cursor to end of buffer after last character ixxx insert characters xxx at current cursor position d delete character after current cursor position buffer requirements sequence of characters cursor position operations to match commands above what to learn implementation choices performance implications buffer class interface class buffer public buffer buffer void movecursorforward void movecursorbackward void movecursortostart void movecursortoend void insertcharacter char ch void deletecharacter void display private tbd buffer layered on vector need character data cursor chars in vector char represent cursor as integer index minor detail is index before after cursor buffer contains ab cde for buffer class private vector char chars int cursor ab edc 2 cursor page 2 evaluate vector buffer buffer o 1 buffer o 1 movecursorforward o 1 movecursorbackward o 1 movecursortostart o 1 movecursortoend o 1 insertcharacter o n deletecharacter o n space used 1 byte per char buffer layered on stack inspiration add remove at end of vector is fast if chars next to cursor were at end build on top of stack another layered abstraction how is cursor represented buffer contains ab cde for buffer class private stack char before after b a c d e before after compare implementations vector stack buffer o 1 o 1 buffer o 1 o 1 movecursorforward o 1 o 1 movecursorbackward o 1 o 1 movecursortostart o 1 o n movecursortoend o 1 o n insertcharacter o n o 1 deletecharacter o n o 1 space used 1n 2n buffer as linked list inspiration contiguous memory is constraining connect chars without locality linked list to the rescue buffer contains ab cde for buffer class private struct cellt char ch cellt next cellt head cursor head cursor e a a b c c d
