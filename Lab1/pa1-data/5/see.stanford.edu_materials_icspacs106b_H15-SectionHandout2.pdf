h15 section handout 2 page 1 cs106b handout 15 winter 07 08 january 17 2008 section handout 2 problem 1 vectors aka c++ arraylists say we are writing the next version of a nifty new mail reading program and want to use a vector interface in reader appendix to store all the data the following structure is used to hold the data of an email message struct emailmsg string to ie professor stanford edu string from ie student stanford edu string message body of message string subject ie cs106 rocks int date date email was sent int time time email was sent a how would you declare a vector that stores emailmsgs b write a function removespam that takes a vector containing elements of type emailmsg and removes all elements whose subject begins with the string spam c how could you modify the to field of the emailmsg structure so that it can hold the email addresses of an arbitrary number of recipients of an email with the modification in place given an emailmsg email how would you access the last address listed in the to field problem 2 queues write a function void reversequeue queue int & q that reverses the elements in the passed in queue hint is there another class that could make doing this a lot easier problem 3 using the scanner and stack classes html b i cs106 rules i b html web browsers use stacks to track html tags such as b i or html every html tag must be matched by an equivalent closing tag b i or html mozilla is looking for programmers to help implement this feature in the next version of firefox and you armed with your newly acquired knowledge of classes decide to volunteer for the job using the scanner class and the stack class write the following function bool iscorrectlynested string htmlstr page 2 2 you can assume that all the tags in the html string will be correctly formed that is once you see an angle bracket it will be followed by the remainder of a complete and well formed tag so nothing like html problem 4 map warm up write a function char mostfrequentcharacter ifstream &if int &numoccurrences that given an input file stream returns the character that occurs the most frequently and stores the number of times it occurs in the reference parameter numoccurrences to write this function first start by scanning through the file stream analyzing each character and storing an updated count in a map then after you ve built this table iterate over it to find the character that occurred the most often problem 5 minesweeper in the game of minesweeper a player searches for hidden bombs on a rectangular grid the game board is represented by a grid of booleans marking bomb locations a grid value is true if there is bomb at that location false otherwise here is an example grid 0 0 tf f f f t f f f f f t ttf tf t tf f f f f f f tf f f f f f f f f given such a grid of bomb locations the function makegridofcounts constructs a new grid of integers storing the count of bombs in each neighborhood the neighborhood for a location includes the location itself and its eight adjacent locations in the returned grid each value will be a number from 0 to 9 if passed the boolean grid above makegridofcounts returns 0 0 1 1 0 0 2 2 3 3 2 1 4 3 3 3 2 1 3 2 3 4 3 2 2 1 1 2 1 1 0 0 0 1 1 1 0 0 the function is passed the grid by reference and returns an int grid created as described grid int makegridofcounts grid bool & bomblocations
