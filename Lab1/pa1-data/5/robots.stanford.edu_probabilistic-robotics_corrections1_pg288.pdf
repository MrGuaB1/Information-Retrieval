let xi yi be the center of mass of mi then return l0 if zk return locc return lfree endif page 1 288 9 occupancy grid mapping 1 algorithm inverse_range_sensor_model mi xt zt 2 let xi yi be the center of mass of mi 3 r xi x 2 yi y 2 4  atan2 yi y xi x  5 k argminj  j sens 6 if r min zmax zk t  2 or  k sens  2 then 7 return l0 8 if zk t zmax and r zk t  2 9 return locc 10 if r zk t 11 return lfree 12 endif table 9.2 a simple inverse measurement model for robots equipped with range finders here  is the thickness of obstacles and  the width of a sensor beam the values locc and lfree in lines 9 and 11 denote the amount of evidence a reading carries for the two different cases cell is shorter than the measured range by more than  2 the left and center panel of figure 9.3 illustrates this calculation for the main cone of a sonar beam a typical application of an inverse sensor model for ultrasound sensors is shown in figure 9.4 starting with an initial map the robot successively extends the map by incorporating local maps generated using the inverse model a larger occupancy grid map obtained with this model for the same environment is depicted in figure 9.5 figures 9.6 shows an example map next to a blueprint of a large open exhibit hall and relates it to the occupancy map acquired by a robot the map was generated using laser range data gathered in a few minutes the gray level in the occupancy map indicates the posterior of occupancy over an evenly spaced grid the darker a grid cell the more likely it is to be occupied while occupancy maps are inherently probabilistic they tend to quickly con verge to estimates that are close to the two extreme posteriors 1 and 0 in comparison between the learned map and the blueprint the occupancy grid map shows all major structural elements and obstacles as they were visi
