color matching function color matching function at this point the spd data from the radiometer had been adjusted for the tungsten light and the rgb output from the camera had been unbalanced and had the gamma correction nonlinearity removed we knew that the formula for calculating the rgb output from the spd's was as follows rgb spd2rgb spd spd2rgb is the matrix which describes the color matching functions that we are looking for the rgb values and spd values were also stored in matrix form as there were 84 wavelengths at which data was sampled and 113 color swatches the matrix multiplication looked something like the following rgb 3 x 113 spd2rgb 3 x 84 spd 84 x 113 the most direct method of finding spd2rgb is spd2rgb spd inv rgb this plot was very noisy so it was necessary to do some extra processing to clean it up we used two methods of noise reduction first we manipulated the equations in the following way which caused matlab's numeric matrix division function to find a best fit result using a least squares approach second we reduced the data and recreated the curves using a set of basis functions using matlab code provided by dr wandell our manipulations were as follows spd2rgb rgb inv spd rgb spd matlab notation rgb inv spd inv spd inv rgb spd inv rgb spd rgb matlab notation spd2rgb inv spd rgb this is the actual calculation done by our matlab code the two methods produced the following sensor estimations they are very similar though our functions are based on our entire data set while the ones calculated by professor wandell's methods are based on fewer representative values the difference between the two functions is shown here it is interesting to note the frequency differences apparent in the two one conjecture as to why this occurs looked at the colors of the original swatches they are ordered to some extent by hue and then within this ordering their intensity oscillates
