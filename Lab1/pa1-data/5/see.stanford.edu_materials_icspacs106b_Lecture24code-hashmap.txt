file mymap h created by julie zelenski on 3 7 08 ifndef _mymap_h define _mymap_h include genlib h include disallowcopy h include vector h template typename valtype class mymap public mymap mymap void add string key valtype val valtype getvalue string key private static const int numbuckets 99 struct cellt string key valtype val cellt next cellt buckets numbuckets int hash string key int numbuckets cellt findcellforkey string key cellt head this prevents default memberwise copy of map objects disallow_copying mymap include cpp because of template quirky include mymap cpp endif file mymap cpp created by julie zelenski on 3 7 08 include mymap h template typename valtype mymap valtype mymap for int i 0 i numbuckets i++ buckets i null template typename valtype mymap valtype mymap delete all bucket chains template typename valtype valtype mymap valtype getvalue string key int whichbucket hash key numbuckets cellt match findcellforkey key buckets whichbucket if match null return match val error key not found template typename valtype void mymap valtype add string key valtype val int whichbucket hash key numbuckets cellt match findcellforkey key buckets whichbucket if match null match val val else cellt newone new cellt newone key key newone val val newone next buckets whichbucket buckets whichbucket newone template typename valtype typename mymap valtype cellt mymap valtype findcellforkey string key cellt head for cellt cur head cur null cur cur next if cur key key return cur return null const long multiplier 1664117991l template typename valtype int mymap valtype hash string s int nbuckets unsigned long hashcode 0 for int i 0 i s length i++ hashcode hashcode multiplier s i return hashcode nbuckets
