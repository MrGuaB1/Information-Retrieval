file include qapplication include qpushbutton include qhboxlayout include qvboxlayout include qslider include overlaywidget h include camerathread h full camera application this example uses qt to create a full camera application for the n900 it displays viewfinder frames using an fbdev overlay int main int argc char argv qapplication app argc argv make the main window and a layout for it qwidget window new qwidget qhboxlayout layout new qhboxlayout layout setcontentsmargins 0 0 0 0 put a slider on the left qslider slider new qslider qt vertical layout addwidget slider make an overlay for displaying viewfinder frames overlaywidget overlay new overlaywidget window overlay setfixedsize 640 480 layout addwidget overlay make some buttons down the right qvboxlayout buttonlayout new qvboxlayout layout addlayout buttonlayout qpushbutton quitbutton new qpushbutton x qpushbutton button1 new qpushbutton 1 qpushbutton button2 new qpushbutton 2 qpushbutton button3 new qpushbutton 3 quitbutton setfixedsize 80 64 button1 setfixedsize 80 64 button2 setfixedsize 80 64 button3 setfixedsize 80 64 buttonlayout addwidget quitbutton buttonlayout addstretch 1 buttonlayout addwidget button1 buttonlayout addwidget button2 buttonlayout addwidget button3 window setlayout layout make a thread that controls the camera camerathread camerathread overlay hook up the quit button to stop the camera thread qobject connect quitbutton signal clicked &camerathread slot stop once the camera thread stops quit the app qobject connect &camerathread signal finished &app slot quit show the app full screen window showfullscreen launch the camera thread camerathread start enter the qt main event loop return app exec
