how can i get information of secondaries generated at the particular step all secondaries generated along a track was accumulated in g4steppingmanager and there is no direct way of accessing to the secondaries produced by a particular step from your usersteppingaction you can get all such information by accessing appropriately to g4steppingmanager list of processes which not only limited but also involved to the step can be listed as well further information beyond this tip can be found in the implementation of g4steppingverbose class here is the sample implementation of g4usersteppingaction source file t01steppingaction cc include t01steppingaction hh include g4steppingmanager hh include g4track hh include g4step hh include g4ios hh include g4unitstable hh void t01steppingaction usersteppingaction const g4step thestep g4cout step is limited by thestep getpoststeppoint getprocessdefinedstep getprocessname g4endl g4cout processes involved to the step g4endl g4stepstatus stepstatus fpsteppingmanager getfstepstatus if stepstatus fatrestdoitproc g4processvector procatrest fpsteppingmanager getfatrestdoitvector g4selectedatrestdoitvector selprocatrest fpsteppingmanager getfselectedatrestdoitvector size_t maxofatrestloops fpsteppingmanager getmaxofatrestloops for size_t i1 0 i1 maxofatrestloops i1++ if selprocatrest maxofatrestloops i1 1 2 g4cout at rest procatrest i1 getprocessname forced g4endl else if selprocatrest maxofatrestloops i1 1 1 g4cout at rest procatrest i1 getprocessname g4endl if stepstatus fexclusivelyforcedproc && stepstatus fatrestdoitproc g4processvector procalong fpsteppingmanager getfalongstepdoitvector size_t maxofalongsteploops fpsteppingmanager getmaxofalongsteploops for size_t i2 0 i2 maxofalongsteploops i2++ if procalong i2 0 g4cout along step procalong i2 getprocessname g4endl if stepstatus fatrestdoitproc g4processvector procpost fpsteppingmanager getfpoststepdoitvector g4selectedpoststepdoitvector selprocpost fpsteppingmanager getfselectedpoststepdoitvector size_t maxofpoststeploops fpsteppingmanager getmaxofpoststeploops for size_t i3 0 i3 maxofpoststeploops i3++ if selprocpost maxofpoststeploops i3 1 2 g4cout post step procpost i3 getprocessname forced g4endl else if selprocpost maxofpoststeploops i3 1 1 g4cout post step procpost i3 getprocessname g4endl g4int nsecatrest fpsteppingmanager getfn2ndariesatrestdoit g4int nsecalong fpsteppingmanager getfn2ndariesalongstepdoit g4int nsecpost fpsteppingmanager getfn2ndariespoststepdoit g4int nsectotal nsecatrest nsecalong nsecpost g4trackvector secvec fpsteppingmanager getfsecondary if nsectotal 0 g4cout list of 2ndaries std setw 3 nsectotal rest std setw 2 nsecatrest along std setw 2 nsecalong post std setw 2 nsecpost g4endl for size_t lp1 secvec size nsectotal lp1 secvec size lp1++ g4cout g4bestunit secvec lp1 getposition length std setw 9 g4bestunit secvec lp1 getkineticenergy energy std setw 18 secvec lp1 getdefinition getparticlename generated by secvec lp1 getcreatorprocess getprocessname g4endl an example output of this class is the following please note that the following list was snipped out from lengthy output sample output from t01steppingaction cc step is limited by transportation processes involved to the step along step transportation along step msc along step eioni post step transportation post step msc post step eioni forced step is limited by eioni processes involved to the step along step transportation along step msc along step eioni post step transportation post step msc post step eioni forced list of 2ndaries 1 rest 0 along 0 post 1 0.019113 6.51462 0.000138179 cm 1.95542 kev e generated by eioni step is limited by ebrem processes involved to the step along step transportation along step msc along step eioni post step transportation post step msc post step ebrem forced list of 2ndaries 1 rest 0 along 0 post 1 0.288498 25.3216 0.000807671 cm 63.393 mev gamma generated by ebrem step is limited by conv processes involved to the step along step transportation post step transportation post step conv forced list of 2ndaries 2 rest 0 along 0 post 2 0.881643 51.3114 0.000172928 cm 11.2898 mev e generated by conv 0.881643 51.3114 0.000172928 cm 51.0812 mev e+ generated by conv step is limited by annihil processes involved to the step at rest annihil forced list of 2ndaries 2 rest 2 along 0 post 0 1.01094 51.7613 0.00290133 cm 510.999 kev gamma generated by annihil 1.01094 51.7613 0.00290133 cm 510.999 kev gamma generated by annihil we are aware of the common requirement of doing this in sensitive detector it will be available in near future release makoto asai
