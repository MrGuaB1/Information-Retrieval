d tools lite home research academics people publications software d tools lite if your design requires a low level computer science approach d tools lite will give you a pure java interface to your hardware the sample program dtools lite test outlines the three basics steps you need to know to get up and running with your program download dtools lite from our sourceforge project page step 1 connect dtools is connected to your pc using a com port you only need to know which com port it is running first make sure you have the cp210x usb driver installed after installing the drivers and connecting dtools to your pc find the com port number in the control panel in start control panel system hardware device manager a window should popup listing all the devices on your pc under the ports section look for cp210x usb it should have a com port number listed right next to it let's say it is com3 connect to com3 with the following call create a port and try to open it the port automatically tries to recover when you unplug or reset while running every 10 seconds port new oscserialport com3 step 2 listen your design should interact with the outside world using various devices that are provided by dtools each of these inputs have an address so they can be uniquely identified you can choose to listen to aa specific device that you are using or you have the option of using the power of regular expression to better match your desired devices the second parameter is a callback function which will be called whenever any of the assigned devices sends a message you callback function must implement the acceptmessage method as show in step 4 listen to one specific input port addlistener in1 new testlistener liste to only buttons port addlistener btn new testlistener listen to everything port addlistener new testlistener step 3 talk you may also want to interact with dtools itself using certain devices provided by dtools once again you need to identify the device by it's address and just send it an integer valued message here is a quick sample function to send any address a byte value public void senddata string address byte value oscmessage msg new oscmessage msg setaddress address msg addargument new integer value try port send msg catch exception e e printstacktrace step 4 react this will be the meat of your program reacting to the outside world before you can do that you need to parse the messages that d tools sends back by looking at the address of the message you can identify the device that is talking to you and the message contains the value it is reporting there is also some basic error messages that can be reported in case a device fails or the message is corrupted this simple if else statement will help you parse out those messages if you are listening to everything here is how to pull the different types of messages back apart public static class testlistener implements osclistener public void acceptmessage date time oscmessage message message getaddress returns the url or path of your component as a string error messages have the address error if message getaddress startswith error system out println received a communication error 1 argument of type string is the address of the component that was added removed connect messages have the address connect else if message getaddress equals connect system out println new hardware connected message getarguments 0 disconnect messages have the address disconnect else if message getaddress equals disconnect system out println hardware disconnected message getarguments 0 for rfids 1 argument of type string 10 characters each character is a string representation of a hexadecimal number 0 9a f else if message getaddress startswith rfid system out println rfid reader message getaddress saw tag message getarguments 0 for buttons 1 argument of type integer 1 means pressed 0 means released for switches 1 argument of type integer 1 means toggled on 0 means toggled off for sliders knobs analog sensors 1 argument of type integer 0 is min value 255 max value else if message getarguments 0 instanceof integer system out println received message for message getaddress with value message getarguments 0 note1 running dtools lite concurrently with the d tools eclipse plugin only one program can take control of a com port at a time if you want to write dtools lite programs in an eclipse environment that also has the installed and loaded you have to make sure that dtools eclipse plugin doesn t lock the com port on startup in eclipse go to window preferences d tools preferences and either enter a different com port or set the hardware communication protocol to udp packets note2 what's up with these osc messages the messages passed between hardware and pc use the opensoundcontrol format osc if you want to find our more about osc please look at http www cnmat berkeley edu opensoundcontrol questions about the website contact hci webmaster at lists stanford edu
