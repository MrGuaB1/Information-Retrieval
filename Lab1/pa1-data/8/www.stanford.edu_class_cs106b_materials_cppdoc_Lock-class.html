class lock the stanford c++ libraries include thread h class lock this class represents a simple lock used to control concurrency the usual strategy for using locks is to use the synchronized macro described later in this interface constructor lock initializes a lock which is initially in the unlocked state methods wait waits for some other thread to call signal on this lock signal signals all threads waiting on the lock so that they wake up and recheck the corresponding condition statement synchronized lock defines a critical section protected by the specified lock constructor detail lock initializes a lock which is initially in the unlocked state usage lock lock method detail void wait waits for some other thread to call signal on this lock this call requires that the lock be held by the calling thread the effect of the wait method is to release the lock and then wait until the desired signal operation occurs at which point the lock is reacquired and control returns from the wait call the wait method is typically used inside a critical section containing a while loop to check for a specific condition the standard paradigm for using the waitthread function looks like this synchronized lock while conditional test lock wait code to manipulate the locked resource usage lock wait void signal signals all threads waiting on the lock so that they wake up and recheck the corresponding condition usage lock signal statement detail synchronized lock defines a critical section protected by the specified lock the general strategy for using this facility is shown in the following paradigmatic pattern synchronized lock statements in the critical section
