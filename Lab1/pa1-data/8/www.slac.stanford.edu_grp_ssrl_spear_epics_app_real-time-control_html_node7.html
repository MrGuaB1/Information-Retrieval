setpoint table processing next up previous contents next example up 4khz state machine previous states contents setpoint table processing at every 4khz cycle starting when entering the run state or at the reception of an event if in one of the eventx states a new setpoint is written to the dac some details are controlled by the following pvs interpolation steps corr currintersteps default 0 if so desired any number of interpolation steps can be inserted between two setpoint table values the processor performs linear interpolation between the table values or between the current value and the 1st table value when processing starts example current value is 2a two setpoints 5 10 are written and interpolation steps are 1 hence the processor will write the sequence 3.5 5 7.5 10 if the parameter is 0 no interpolation is performed ie setpoint table values are written as is scale corr currscale default 1 the every sample written to the dac is scaled by this value this makes it possible to change the amplitude of a waveform without having to generate a new table loop iterations corr loopiter default 1 this parameter controls how many times the table is to be processed ie after the last value has been written processing is resumed from the beginning of the table for loopiter 1 times any number less than 1 instructs the processor to continue indefinitely processing needs to be stopped by switching into one of the halt or arm or remote states note that it is legal to modify currscale and currintersteps on the fly while processing is ongoing thus allowing for knobbing the amplitude frequency of a continuous waveform while loopiter can be modified after processing has started the modification will only take effect the next time processing is started next up previous contents next example up 4khz state machine previous states contents till straumann 2005 06 02
