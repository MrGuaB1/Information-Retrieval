readpost readpost les cottrell last update 3 mar 1997 readpost procedure parse arg stdinfile read html form post input if any from standard input note that if the caller provides a filename then we save the input in case we need to send it to another script if so we can restore the stdin for the called command by using the command address unix script stdinfile a good way to get a unique filename to save the standard input in is to use the process id for example in uni rexx stdinfile tmp stdin _getpid post readpost stdinfile if a stdinfile is specified but readpost is unable to write the standard input to stdinfile then readpost exits readpost returns the post input if the request_method post else it returns null readpost also returns a null string if the request_method post but there is no input in the standard input nb the returned post input does not have plus signs converted to spaces or hex ascii xx encodings converted to characters in if getenv request_method post then do n getenv content_length if n then return in in charin 1 getenv content_length if stdinfile then do if charout stdinfile in 1 0 then do say 500 can t write all post chars exit end fail charout stdinfile close the file end end return in
