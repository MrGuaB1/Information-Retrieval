atlas environment at slac tips&tricks for atlas at slac transferring large files from cern to slac or slac to cern etc see the relevant discussion on hypernews bbcp is much faster than scp 15 mb s compare to 0.3 mb s bbcp is not installed at cern copy it from slac usr local bin bbcp in your own cern area in my xrootd directory in the following examples note you can find the mac binary at afs slac stanford edu package bbcp prod bin ppc_darwin_80 bbcp to transfer a single file from cern to slac xrootd bbcp s 64 p 2 f notes txt grenier noric09 slac stanford edu to transfer a whole directory xrootd bbcp s 64 p 2 f r data grenier noric09 slac stanford edu atlasdata to transfer from slac to cern xrootd bbcp z t usr local bin bbcp s 64 p 2 f grenier noric09 slac stanford edu notes txt notes txt some notes from wei 1 bbcp uses ssh so one can avoid typing password by adding your cern ssh public key to slac's authorized key file ssh authorized_keys 2 i am using 64 streams which is the maximum 3 p 2 is not necessary unless you want to see the process bar another note from gary buhrmaster regarding the number of streams the number of optimal streams varies and is influenced by the size of the tcp buffers more streams can actually hurt performance there are some tuning suggestions available at http pcbunn cithep caltech edu bbcp using_bbcp htm usually the default number of streams of 4 is reasonable but you want to increase the window size ie eliminate the s 64 and instead add in w 2m as always your results will vary last edited by andy haas on dec 15 2008
