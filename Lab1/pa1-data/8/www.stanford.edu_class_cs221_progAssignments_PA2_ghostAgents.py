ghostagents py licensing information please do not distribute or publish solutions to this project you are free to use and extend these projects for educational purposes the pacman ai projects were developed at uc berkeley primarily by john denero denero cs berkeley edu and dan klein klein cs berkeley edu for more info see http inst eecs berkeley edu cs188 sp09 pacman html from game import agent from game import actions from game import directions import random from util import manhattandistance import util class ghostagent agent def __init__ self index self index index def getaction self state dist self getdistribution state if len dist 0 return directions stop else return util choosefromdistribution dist def getdistribution self state returns a counter encoding a distribution over actions from the provided state util raisenotdefined class randomghost ghostagent a ghost that chooses a legal action uniformly at random def getdistribution self state dist util counter for a in state getlegalactions self index dist a 1.0 dist normalize return dist class directionalghost ghostagent a ghost that prefers to rush pacman or flee when scared def __init__ self index prob_attack 0.8 prob_scaredflee 0.8 self index index self prob_attack prob_attack self prob_scaredflee prob_scaredflee def getdistribution self state read variables from state ghoststate state getghoststate self index legalactions state getlegalactions self index pos state getghostposition self index isscared ghoststate scaredtimer 0 speed 1 if isscared speed 0.5 actionvectors actions directiontovector a speed for a in legalactions newpositions pos 0 a 0 pos 1 a 1 for a in actionvectors pacmanposition state getpacmanposition select best actions given the state distancestopacman manhattandistance pos pacmanposition for pos in newpositions if isscared bestscore max distancestopacman bestprob self prob_scaredflee else bestscore min distancestopacman bestprob self prob_attack bestactions action for action distance in zip legalactions distancestopacman if distance bestscore construct distribution dist util counter for a in bestactions dist a bestprob len bestactions for a in legalactions dist a 1 bestprob len legalactions dist normalize return dist
