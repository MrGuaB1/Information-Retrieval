secure shell ssh2 for unix linux users print version secure shell ssh2 for unix linux users modern linux unix installations eg rhel4 os x tiger already have all the software needed to use protocol 2 effectively this section details the recommended procedures for setting up ssh2 on your machine in order to access machines at slac note as of nov 26 2007 ssh access via ssh protocol 1 ssh1 was disabled at slac setup non slac machine in order to login from a remote linux machine to a slac machine create the following file and name it config in the remote machine's home ssh directory ie home ssh config gssapiauthentication yes gssapidelegatecredentials yes gssapitrustdns yes may not be necessary or even supported on some systems forwardx11 yes set the permissions for read write by the owner only first cd to your ssh directory then at the prompt issue the following command chmod og rxw config if you are working from a slac machine and you wish to ssh or scp or whatever at the start of your work day type kinit from non slac machines type kinit yourusername slac stanford edu note slac stanford edu must be in uppercase all upper and lower case examples used in this procedure are correct as shown when prompted enter your password notes passwords after entering your password once you can ssh to a slac machine and you will immediately be logged in and have an afs token you can also scp files to or from slac or use cvs and you will not be prompted for a password running x applications remotely if you wish to log onto a slac machine and run x applications remotely you might need to modify your ssh command to include a y flag like this ssh y noric slac stanford edu all upper and lower case examples used in this procedure are correct as shown when connecting to a slac machine from a non slac machine on slac machines host keys are managed automatically so when you first connect from a client machine to a slac server machine that ssh on your client machine does not know about you will be asked whether you want to accept the public key of the slac machine this key will be stored in a file in your home directory named ssh known_hosts every connection after that will check the public key of the server and will issue warnings if the key stored on your machine does not match this protects you from hacker attacks in which another machine impersonates the trusted server machine to which you are trying to connect the dialog looks like as follows ssh noric slac stanford edu host key not found from the list of known hosts are you sure you want to continue connecting yes no yes host noric slac stanford edu added to the list of known hosts if you get the wrong key from the remote host you get this dialog ssh noric slac stanford edu warning host identification has changed it is possible that someone is doing something nasty someone could be eavesdropping on you right now man in the middle attack it is also possible that the host key has just been changed tip you will often get this warning if you connect to pooled machines such as noric tersk or noric this is because you will get different machines each time you connect and each machine will have a different host key to solve this problem you can get the host keys of all the machines in the pool from slac by issuing the following command from your client machine these keys are available via anonymous ftp from the server ftp slac stanford edu in the directory admin ftp ftp slac stanford edu admin known_hosts copy this file to your client machine and merge it into your ssh known_hosts file be sure to replace any existing keys for the corresponding slac hosts you will need to be repeat this process periodically when for example scs adds new machines to any of the pools miscellaneous checks ssh version on client machine must be v3 8 or higher issue the command ssh v note for best results from slac public machines verify that you re using usr local bin ssh by eg issuing which ssh if you find that you are not using usr local bin ssh you may want to adjust your path environment variable kerberos kinit command to verify that the kerberos kinit command is available issuing the command kinit version or which kinit to make sure it's there end of ssh for unix procedure also see secure shell ssh at slac using ssh between unix machines at slac and between a slac machine and a non slac machine owned by joanne bogart last updated by joanne bogart 09 15 2009 back to top
