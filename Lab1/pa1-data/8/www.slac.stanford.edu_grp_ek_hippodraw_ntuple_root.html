hippodraw documenation main page related pages data source a data source for the hippodraw analysis package is typically a table of numbers with a limited number of columns and probably large number of rows it is commonly called in some circles a ntuple a computer scientist however would call each row a n tuple in addition to the data the ntuple has a title and labels for each column to uniquely identify an ntuple object in an application it also has a unique name the name will be a filename with the full path if associated with a file or some unique string if the ntuple is only in memory the data source classes a data source can be represented internally in hippodraw in a number of different ways each is implemented in a c++ class derived from abstract base class datasource they are described in the following sections the available types of data sourcers are ntuple class circularbuffer class listtuple class numarraytuple class rootntuple class fitsntuple class the datasource class the datasource abstract class provides the interface to the data as well as the title labels and name several derived classes of datasource manage the access to the data they differ on how they store the column data all derived classes of projectorbase use the datasource interface to create a projection of the data for plotting ntuple class the ntuple class is a derived class of datasource that manages the data by containing a vector of double floating point numbers for each column this class provides the most efficient access to the data however all the data is always contained in memory so if one's data set has a very large number of columns and rows it could consume lots of memory and cause the computer to do a lot of swapping if the contents of a column is changed the changes will be reflected in any displays using that column automatically in same cases re displaying with every change might be too often such in a data acquisition system one can use the interval counter feature of the ntuple class to set the updating to every n th change circularbuffer class the circularbuffer class is a derived class of ntuple that works like a circular buffer that is one sets a size for the maximum number of rows then fills the buffer by adding rows when the maximum size is reached the first row is replaced then the second etc until the last row is reach then the process repeats itself listtuple class the listtuple is a derived class of datasource that manages the data by containing references to a python list objects no copy of the data is made an empty listtuple can be created from python and columns of data can be added if the data contained by the python list changes they will be reflected in any displays using that column once hippodraw has been notified changes have been made this is not automatic since python list objects to not emit any notification message numarraytuple class the numarraytuple is a derived class of datasource that manages the data by containing references to python numarray array objects no copy of the data is made with this release only rank 1 array objects is supported as with the listtuple class hippodraw needs to be notified if the data changes before it will reflected in and displays using it rootntuple class the rootntuple class is a derived class of datasource that manages its data by using root to read data from a file this class is only available if hippodraw was configured to build with root support only root files whose ttree objects contain tbranch objects with only one tleaf is supported this is a fairly common practice if more than one ttree is in the file then a dialog will appear on which one can select the desired ttree when the root file is opened the names of the tbranch objects is used as column labels but no data is read as a column is used a copy of the data for that column is made if the tleaf is a multiple dimension array a new ntuple is created which each column representing an element of the array hippodraw also provided a python interface to the root files see using root files for an example fitsntuple class the fitsntuple a class derived from datasource that manages its data by reading a fits file with ascii or binary tables as well as images one can read also fits file by using the fitscontroller from the canvas window or from python one can also use pyfits python extension module in conjunction with numarray the dataarray python class not a derived class of datasource but the dataarray class appears as one to python it is implemented as the datasource c++ class the dataarray class wraps any of the concrete datasource derived class and provided a direct interface for use of numeric python arrays for both input and output in python a dataarray behaves like a python list when used with an integer index and a python dictionary when used with column labels generated for hippodraw by doxygen
