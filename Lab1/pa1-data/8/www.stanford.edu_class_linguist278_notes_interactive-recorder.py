usr bin env python import pyaudio import wave import sys def record output_filename chunk 1024 format pyaudio paint16 channels 2 rate 44100 record_seconds 8 if sys platform darwin channels 1 p pyaudio pyaudio stream p open format format channels channels rate rate input true frames_per_buffer chunk print recording all try for i in range 0 rate chunk record_seconds data stream read chunk all append data except keyboardinterrupt pass finally print done recording stream stop_stream stream close p terminate write data to wave file data join all wf wave open output_filename wb wf setnchannels channels wf setsampwidth p get_sample_size format wf setframerate rate wf writeframes data wf close def playback output_filename chunk 1024 pyaudio pyaudio pyaudio wf wave open output_filename rb p pyaudio open stream stream p open format p get_format_from_width wf getsampwidth channels wf getnchannels rate wf getframerate output true read data data wf readframes chunk play stream while data stream write data data wf readframes chunk stream stop_stream stream close p terminate if __name__ __main__ username raw_input please enter your name n raw_input i ll now record you saying your name hit enter when you are ready to begin and then wait for the recording prompt to start use control c to stop recording max recording time is 8 seconds n record username wav print thanks here's your file played back playback username wav
