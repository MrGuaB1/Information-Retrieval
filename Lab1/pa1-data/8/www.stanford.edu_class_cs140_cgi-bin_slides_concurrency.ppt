slide 1 cs 140 lecture notes concurrency slide 1 too much milk person a 3 00 arrive home no milk 3 05 leave for store 3 10 arrive at store 3 15 leave store 3 20 arrive home put milk away cs 140 lecture notes concurrency slide 2 too much milk person a person b 3 00 arrive home no milk 3 05 leave for store 3 10 arrive at store arrive home no milk 3 15 leave store leave for store 3 20 arrive home put milk away arrive at store 3 25 leave store 3 30 arrive home too much milk cs 140 lecture notes concurrency slide 3 computerized milk purchase if gotmilk if nonote leave note buy milk remove note cs 140 lecture notes concurrency slide 4 still too much milk thread a thread b if gotmilk if nonote if gotmilk if nonote leave note buy milk remove note leave note buy milk remove note cs 140 lecture notes concurrency slide 5 second attempt thread a if nonote if gotmilk buy milk leave note thread b if note if gotmilk buy milk remove note cs 140 lecture notes concurrency slide 6 third attempt thread a 1 leave notea 2 if no noteb 3 if gotmilk 4 buy milk 5 6 7 remove notea thread b 1 leave noteb 2 if no notea 3 if gotmilk 4 buy milk 5 6 7 remove noteb cs 140 lecture notes concurrency slide 7 fourth attempt thread a 1 leave notea 2 if no noteb 3 if gotmilk 4 buy milk 5 6 7 remove notea thread b 1 leave noteb 2 while notea 3 do nothing 4 5 if gotmilk 6 buy milk 7 8 remove noteb cs 140 lecture notes concurrency slide 8
