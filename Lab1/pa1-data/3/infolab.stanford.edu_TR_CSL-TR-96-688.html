report number csl tr 96 688 institution stanford university computer systems laboratory title os support for improving data locality on cc numa compute servers author verghese ben author devine scott author gupta anoop author rosenblum mendel date february 1996 abstract the dominant architecture for the next generation of cache coherent shared memory multiprocessors is cc numa cache coherent non uniform memory architecture these machines are attractive as compute servers because they provide transparent access to local and remote memory however the access latency to remote memory is 3 5 times the latency to local memory given the large remote access latencies data locality is potentially the most important performance issue in compute server workloads when moving processes between nodes for load balancing to maintain data locality the os needs to do page migration and page replication through trace analysis and actual runs of realistic workloads we study the potential improvements in performance provided by os supported dynamic migration and replication analyzing our kernel based implementation of the policy we provide a detailed breakdown of the costs and point out the functions using the most time we study alternatives to using full cache miss information to drive the policy and show that sampling of cache misses can be used to reduce cost without compromising performance and that tlb misses are inconsistent as an approximation for cache misses finally our workload runs show that os supported dynamic page migration and page replication can substantially increase performance as much as 29 in some workloads ftp reports stanford edu pub cstr reports csl tr 96 688 csl tr 96 688 pdf
