five point stencil next up previous next adi integration up evaluation previous lu decomposition five point stencil the code for our next example a five point stencil is shown in figure 7 figure 8 shows the resulting speedups for each version of the code the base compiler simply distributes the outermost parallel loop across the processors and each processor updates a block of array columns the values of the boundary elements are exchanged in each time step the computation decomposition algorithm assigns two dimensional blocks to each processor since this mapping has a better computation to communication ratio than a one dimensional mapping however without also changing the data layout the performance is worse than the base version because now each processor's partition is non contiguous in figure 8 the number of processors in each of the two dimensions is also shown under the total number of processors after the data transformation is applied the program has good spatial locality as well as less communication and thus we achieve a speedup of 29 on 32 processors note that the performance is very sensitive to the number of processors this is due to the fact that each dash cluster has 4 processors and the amount of communication across clusters differs significantly for different two dimensional mappings figure 7 five point stencil code figure 8 five point stencil speedups saman amarasinghe fri apr 7 11 22 17 pdt 1995
