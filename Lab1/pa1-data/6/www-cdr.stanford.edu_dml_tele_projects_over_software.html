telemanipulation dexterous manipulation laboratory software overview the wonders of qnx operating system process based structure inter process communication object oriented programming operating system we use the qnx real time operating system by qnx software systems ltd version 4.25 the qnx os is a unix derivative which means it has all the glories of pre emptive multitasking priority scheduling and protected memory which we have come to expect from modern operating systems in addition qnx provides convenient facilities for inter process communication and because it is a real time os timing capabilities with these abilities it becomes easy to construct a system which can run multiple time critical operations simultaneously process based structure because the structure of our system is so complex writing a single program to control all the various peripherals and take care of the computational aspects is a huge task instead we created a multi process structure in which each process functions as some type of device driver because of the facilities available in qnx we were able to implement a two node system which performs all these tasks node 1 pentium ii 233 mhz processor perform all robot i o kinematics computation control and force sensing using an 4 axis servo board installed on the isa bus 1000 hz perform i o and simple computations to drive the cybergrasp force feedback system 1000 hz interacte with user through command line interface that allows realtime gain modification and data capture communicate with node 2 at 250 hz through a ethernet socket node 2 pentium iii 500 mhz processor communicate with the cyberglove interface unit over a serial line 250 hz compute the kinematics of the human hand 250 hz update the graphical user interface 7 hz communicate over ethernet with an adeptone robot controller 62.5 hz communicate with a logitech 6 dof tracker 50 hz perform calculations to intuitively map motions from the 3 d human hand model to the planar robotic manipulator 250hz manage process creation communication and do miscellaneous housekeeping spawn additional sub tasks which capture data or calibrate the kinematic hand model communicate with node 1 at 250 hz through a ethernet socket each of these tasks is performed by a separate executable process by scheduling the processes with different priorities we can control which tasks are the most time critical such as the robot control and guarantee that these tasks receive cpu resources when needed in general the qnx operating system has excelled in providing a stable robust reliable base for our system inter process communication ipc we use three primary modes of inter process communication in our system qnx messages shared memory and signals qnx messages qnx messages provide a convenient control transfer mechanism of communication if process 1 sends a message to process 2 it halts execution until process 2 replies this provides a method of controlling program flow across multiple processes and is most useful when the reply data must be complete and takes a relatively short time to compute shared memory posix shared memory provides a way of sharing physical memory across multiple process spaces it is therefore lightning fast for data transfer but suffers from all the problems associated with global variables because its state can change at any time therefore if a set of data is grabbed from shared memory there is no way to tell a priori that it is a complete set of data rather than a partial update and there is no way to tell which process changed the data these limitations can be overcome using semaphores we determined that incomplete data sets were of little importance since most of our data is transferred or updated at 250 or 1000 hz between processes and the off by one sample effect can be interpreted as a short time lag this time lag is well within the lag tolerance associated with our tasks signals signals are similar to software interrupts in that they immediately transfer program control to a small subroutine we use signals only to handle some exception conditions such as process termination and catastrophic error due to their limited number and lack of data transferred signals are unsuitable for periodic process communication object oriented programming the object oriented programming paradigm has proven invaluable in creating an expandable base for implementing various calibration and mapping ideas as well as providing convenience in simplifying the syntax for shared memory child processes timers and other qnx facilities we ve posted our unsupported publicly accessible code for simplifying some of the qnx facilities this page was last modified on 3 22 02 if you have any questions regarding the website or the content please contact the
