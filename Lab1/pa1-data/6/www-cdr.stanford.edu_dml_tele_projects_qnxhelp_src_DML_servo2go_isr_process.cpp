isr_process cpp author ryan findley modified by weston griffin description an object oriented approach to the servo2go card the software which we got with the card failed to compile and was hard to understand this attempts to make it easier history 8 4 99 ryan started 02 25 00 wbg removed far handler and added some functions define test define test_adc_poll define test_adc_eoc include files include stdio h include conio h include stdlib h include sys proxy h include sys irqinfo h include sys kernel h include sys sched h include dml_servo2go h include dml_child h include dml_shmem h include testadc h void main setprio 0 28 dml_master master servo2go s2go 0x300 master sendinfomsg printf child process created n static adc_struct adc new shm_adc shmem adc_struct float testvoltage while 1 printf waiting n receive master proxy 0 0 testvoltage 4 adc count voltage should step down as coutn increases s2go dac dac_4 testvoltage if adc count 4 printf adc count d n adc count adc voltage adc count s2go readadc adcport adc count adc count++ if adc count 4 s2go startsingleadconversion adcport adc count if adc count 4 s2go dac dac_4 0.5
