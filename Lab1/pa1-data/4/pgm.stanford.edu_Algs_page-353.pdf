10.2 message passing sum product 353 algorithm 10.1 upward pass of variable elimination in clique tree procedure ctree sp upwa page 1 10.2 message passing sum product 353 algorithm 10.1 upward pass of variable elimination in clique tree procedure ctree sp upward  set of factors t clique tree over   initial assignment of factors to cliques cr some selected root clique 1 initialize cliques 2 while cr is not ready 3 let ci be a ready clique 4 i pr i si pr i sp message i pr i 5 r r k nbcr k r 6 return r procedure initialize cliques 1 for each clique ci 2 i ci j  j i j 3 procedure sp message i sending clique j receiving clique 1  ci i k nbi j k i 2  si j ci si j  ci 3 return  si j 10.2 1.3 correctness we now prove that this algorithm when applied to a clique tree that satisfies the family preser vation and running intersection property computes the desired expressions over the messages and the cliques in our algorithm a variable x is eliminated only when a message is sent from ci to a neighboring cj such that x ci and x cj we first prove the following result proposition 10.2 assume that x is eliminated when a message is sent from ci to cj then x does not appear anywhere in the tree on the cj side of the edge i j proof the proof is a simple consequence of the running intersection property assume by contradiction that x appears in some other clique ck that is on the cj side of the tree then cj is on the path from ci to ck but we know that x appears in both ci and ck but not in cj violating the running intersection property
