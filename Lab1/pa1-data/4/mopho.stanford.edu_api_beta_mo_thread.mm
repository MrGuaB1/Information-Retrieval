name mo_thread cpp desc wrapper threads authors ge wang ge ccrma stanford edu date october 2009 version 0.2 stanford mobile phone orchestra http mopho stanford edu include mo_thread h include iostream name mothread desc mothread mothread thread 0 name mothread desc mothread mothread if thread 0 pthread_cancel thread pthread_join thread null name start desc bool mothread start thread_function routine void ptr bool result false if pthread_create &thread null routine ptr 0 result true return result name wait desc bool mothread wait long milliseconds bool result false pthread_cancel thread pthread_join thread null return result name test desc void mothread test pthread_testcancel name momutex desc momutex momutex pthread_mutex_init &mutex null name momutex desc momutex momutex pthread_mutex_destroy &mutex name acquire desc void momutex acquire pthread_mutex_lock &mutex name unlock desc void momutex release pthread_mutex_unlock &mutex name setpriority desc bool setpriority pthread_t thread long priority struct sched_param param int policy log std cerr mopho setting thread priority to priority std endl get for thread if pthread_getschedparam thread &policy &param goto doh priority param sched_priority priority policy policy sched_rr set for thread if pthread_setschedparam thread policy &param goto doh return true doh log std cerr mopho failed to set thread priority std endl return false name setpriority desc bool mothread setpriority long priority return setpriority thread priority name setselfpriority desc bool mothread setselfpriority long priority return setpriority pthread_self priority
