10.3 message passing belief update 367 algorithm 10.3 calibration using belief propagation in clique tree procedure ctree bu c page 1 10.3 message passing belief update 367 algorithm 10.3 calibration using belief propagation in clique tree procedure ctree bu calibrate  set of factors t clique tree over  1 initialize ctree 2 while exists an uninformed clique in t 3 select i j et 4 bu message i j 5 return i procedure initialize ctree 1 for each clique ci 2 i    i  3 for each edge i j et 4 i j 1 procedure bu message i sending clique j receiving clique 1 i j ci si j i 2 marginalize the clique over the sepset 3 j j i j i j 4 i j i j the precise algorithm is shown in algorithm 10.3 note that as written the message passing algorithm is underspecified in line 3 we can select any pair of cliques ci and cj between which we will pass a message interestingly we can make this choice arbitrarily without damaging the correctness of the algorithm for example if ci for some reason passes the same message to cj a second time the process of dividing out by the stored message reduces the message actually passed to 1 so that it has no influence furthermore if ci passes a message to cj based on partial information that is without taking into consideration all of its incoming messages and then resends a more updated message later on the effect is identical to simply sending the updated message once moreover at convergence regardless of the message passing steps used we necessarily have a calibrated clique tree this property follows from the fact that in order for all message updates to have no effect we need to have
