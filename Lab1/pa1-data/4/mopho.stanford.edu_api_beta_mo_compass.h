name mo_compass h desc mopho api for compass authors nick bryan jieun oh jorge herrera ge wang date fall 2009 version 0.21 stanford mobile phone orchestra http mopho stanford edu ifndef __mo_compass_h__ define __mo_compass_h__ import mo_def h import vector import corelocation corelocation h interface compassdelegate nsobject cllocationmanagerdelegate cllocationmanager locationmanager property nonatomic retain cllocationmanager locationmanager end type definition for accelerometer callback function typedef void mocompasscallback clheading heading void data name class molocation desc location stuff gps edge wifi compass class mocompass public setting values static void update clheading heading set the current compass offset static void setoffset clear the current compass offset static void clearoffset static double getmagneticoffset static double gettrueoffset public getting values get the magnetic heading of the compass static double getmagneticheading get the magnetic heading of the compass static double gettrueheading get the estimated accuracy of the compass static double getaccuracy register a callback to be invoked on subsequent updates static void addcallback const mocompasscallback & callback void data unregister a callback static void removecallback const mocompasscallback & callback private current values static clheading m_heading static double m_magneticheading static double m_trueheading static cllocationdirection m_accuracy store an offset static double m_trueoffset static double m_magneticoffset static compassdelegate compassdelegate queue of callbacks static std vector mocompasscallback m_clients static std vector void m_clientdata todo update the add and remove functions with the void data internal setup of the compass static void checksetup endif
